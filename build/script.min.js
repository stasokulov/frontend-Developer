"use strict";var username="stasokulov",linkToMyGit="https://api.github.com/users/".concat(username),numRepos="",reposPerPage=10,pageForLoad=1;function getRepos(e){var t=document.querySelector(".preloader__wrap_git");t.classList.remove("hidden");var a="".concat(linkToMyGit,"/repos?per_page=").concat(reposPerPage,"&page=").concat(e);fetch(a).then(function(e){if(200===e.status)return e.json();alert("Запрос на github.com не удался. Ошибка: "+e.status)}).then(function(e){e.forEach(function(e){gitItemCreator(e)})}).then(function(){t.classList.add("hidden")})}function gitItemCreator(e){var t=document.querySelector(".git__list"),a=createElement("li");a.classList.add("git__main__item");var n=createElement("a");n.classList.add("git__item-innerWrap"),n.classList.add("link"),n.href=e.html_url,n.target="blank";var r=createElement("p");r.classList.add("git__item-title"),r.innerHTML=e.name;var i=createElement("p");i.classList.add("git__item-text");var o=createElement("span");switch(o.classList.add("marker"),e.language){case"HTML":o.classList.add("marker_HTML");break;case"CSS":o.classList.add("marker_CSS");break;case"JS":o.classList.add("marker_JS")}var c=createElement("span");c.classList.add("text-element"),c.classList.add("text-element_progLang"),c.innerHTML=e.language;var s=createElement("span");s.classList.add("text-element");var d=createElement("span");d.classList.add("text-element_star");var l=createElement("span");l.classList.add("text-element");var u=createElement("span");u.classList.add("text-element_fork");var m=createElement("span");m.classList.add("text-element"),m.classList.add("text-element_update"),m.innerHTML="Обновлено "+new Date(e.updated_at).toLocaleDateString("ru")+"г.",s.appendChild(d),l.appendChild(u),i.appendChild(o),i.appendChild(c),i.appendChild(s),i.appendChild(l),i.appendChild(m),n.appendChild(r),n.appendChild(i),a.appendChild(n),e.stargazers_count?s.appendChild(document.createTextNode(e.stargazers_count)):s.remove(),e.forks_count?u.appendChild(document.createTextNode(e.forks_count)):u.remove(),t.appendChild(a)}function createPagination(e){var t=document.querySelector(".paginator"),a=document.querySelector(".paginator__item").cloneNode(!0);a.classList.remove("hidden"),1===e&&a.classList.add("paginator__item_active"),a.appendChild(document.createTextNode(e)),t.appendChild(a)}function goPagination(){document.querySelector(".paginator").addEventListener("click",function(e){if("paginator__item"===e.target.className){var t=document.querySelectorAll(".git__main__item");(t=Array.from(t)).forEach(function(e){e.remove()}),getRepos(e.target.innerText);var a=document.querySelectorAll(".paginator__item");(a=Array.from(a)).forEach(function(e){e.classList.remove("paginator__item_active")}),e.target.classList.add("paginator__item_active")}})}function createElement(e){return document.createElement(e)}getRepos(pageForLoad),goPagination(),fetch(linkToMyGit).then(function(e){if(200===e.status)return e.json();alert("Запрос на github.com не удался. Ошибка: "+e.status)}).then(function(e){return numRepos=e.public_repos}).then(function(e){for(var t=Math.ceil(e/reposPerPage),a=1;a<=t;a++)createPagination(a)});var burger=document.querySelector(".burger"),burgerItem1=document.querySelector(".burger__item-1"),burgerItem2=document.querySelector(".burger__item-2"),mobileMenu=document.querySelector(".header__mobileMenu"),language=document.querySelector(".header__mainMenu__language");burger.addEventListener("click",function(){burgerItem1.classList.toggle("burger__item-1_active"),burgerItem2.classList.toggle("burger__item-2_active"),mobileMenu.classList.toggle("hidden")});var header=document.querySelector("body");header.addEventListener("click",function(e){if(e.target.classList.contains("scroll")){var t=e.target.dataset.target,a=document.querySelector("."+t).offsetTop,n=window.pageYOffset,r=50,i=(a-n)/r,o=n,c=0;!function e(){o+=i,setTimeout(function(){window.scrollTo(0,o),++c<r&&e()},10)}()}}),document.querySelector("body").addEventListener("click",function(e){if(e.target.classList.contains("telNum")){var t=e.target.innerText,a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}}),window.onload=function(){document.querySelector(".preloader__wrap_global").classList.add("hidden")};var viewAll=document.querySelectorAll(".recentWorks__title-side"),hiddenWorks=document.querySelector(".recentWorks__example").querySelectorAll(".hidden");(viewAll=Array.from(viewAll)).forEach(function(e){e.addEventListener("click",function(){hiddenWorks.forEach(function(e){e.classList.toggle("hidden")}),viewAll.forEach(function(e){e.classList.toggle("hidden")})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC9naXQuanMiLCJzY3JpcHQvaGVhZGVyLmpzIiwic2NyaXB0L21haW4uanMiLCJzY3JpcHQvcHJlbG9hZGVyLmpzIiwic2NyaXB0L3JlY2VudFdvcmtzLmpzIl0sIm5hbWVzIjpbInVzZXJuYW1lIiwibGlua1RvTXlHaXQiLCJjb25jYXQiLCJudW1SZXBvcyIsInJlcG9zUGVyUGFnZSIsInBhZ2VGb3JMb2FkIiwiZ2V0UmVwb3MiLCJwcmVsb2FkZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJsaW5rVG9NeVJlcG9zIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJqc29uIiwiYWxlcnQiLCJhcnIiLCJmb3JFYWNoIiwiZWxlbWVudCIsImdpdEl0ZW1DcmVhdG9yIiwiYWRkIiwiY29udGFpbmVyIiwiaXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJsaW5rIiwiaHJlZiIsImh0bWxfdXJsIiwidGFyZ2V0IiwidGl0bGUiLCJpbm5lckhUTUwiLCJuYW1lIiwic3RyaW5nIiwibWFya2VyIiwibGFuZ3VhZ2UiLCJwcm9nTGFuZyIsInN0YXJXcmFwIiwic3RhciIsImZvcmtXcmFwIiwiZm9yayIsImRhdGVVcGRhdGUiLCJEYXRlIiwidXBkYXRlZF9hdCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImFwcGVuZENoaWxkIiwic3RhcmdhemVyc19jb3VudCIsImNyZWF0ZVRleHROb2RlIiwiZm9ya3NfY291bnQiLCJjcmVhdGVQYWdpbmF0aW9uIiwicGFnZUNvdW50IiwicGFnaW5hdG9yIiwicGFnaW5hdGlvbkl0ZW0iLCJjbG9uZU5vZGUiLCJnb1BhZ2luYXRpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNsYXNzTmFtZSIsImFsbFJlcG9zIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwiZnJvbSIsImlubmVyVGV4dCIsInBhZ2luYXRpb25JdGVtcyIsInRhZyIsInB1YmxpY19yZXBvcyIsIm51bVBhZ2VzIiwiTWF0aCIsImNlaWwiLCJpIiwiYnVyZ2VyIiwiYnVyZ2VySXRlbTEiLCJidXJnZXJJdGVtMiIsIm1vYmlsZU1lbnUiLCJ0b2dnbGUiLCJoZWFkZXIiLCJjb250YWlucyIsInRhcmdldENsYXNzIiwiZGF0YXNldCIsImZpbmlzaCIsIm9mZnNldFRvcCIsInN0YXJ0Iiwid2luZG93IiwicGFnZVlPZmZzZXQiLCJudW1TdGVwIiwibGVuZ2h0U3RlcCIsInByb2dyZXNzIiwiY291bnRTdGVwIiwic2Nyb2xsIiwic2V0VGltZW91dCIsInNjcm9sbFRvIiwiZXZlbnQiLCJ0ZWxOdW1iZXIiLCJpbnB1dCIsInZhbHVlIiwiYm9keSIsInNlbGVjdCIsImV4ZWNDb21tYW5kIiwicmVtb3ZlQ2hpbGQiLCJvbmxvYWQiLCJ2aWV3QWxsIiwiaGlkZGVuV29ya3MiLCJidXR0b24iXSwibWFwcGluZ3MiOiJhQUFBLElBQUFBLFNBQUEsYUFDQUMsWUFBQSxnQ0FBQUMsT0FBQUYsVUFDQUcsU0FBQSxHQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFLQSxTQUFBQyxTQUFBRCxHQUVBLElBQUFFLEVBQUFDLFNBQUFDLGNBQUEsd0JBQ0FGLEVBQUFHLFVBQUFDLE9BQUEsVUFFQSxJQUFBQyxFQUFBLEdBQUFWLE9BQUFELFlBQUEsb0JBQUFDLE9BQUFFLGFBQUEsVUFBQUYsT0FBQUcsR0FDQVEsTUFBQUQsR0FDQUUsS0FBQSxTQUFBQyxHQUNBLEdBQUEsTUFBQUEsRUFBQUMsT0FDQSxPQUFBRCxFQUFBRSxPQUVBQyxNQUFBLDJDQUFBSCxFQUFBQyxVQUdBRixLQUFBLFNBQUFLLEdBQ0FBLEVBQUFDLFFBQUEsU0FBQUMsR0FDQUMsZUFBQUQsT0FHQVAsS0FBQSxXQUNBUCxFQUFBRyxVQUFBYSxJQUFBLFlBdUJBLFNBQUFELGVBQUFELEdBQ0EsSUFBQUcsRUFBQWhCLFNBQUFDLGNBQUEsY0FFQWdCLEVBQUFDLGNBQUEsTUFDQUQsRUFBQWYsVUFBQWEsSUFBQSxtQkFFQSxJQUFBSSxFQUFBRCxjQUFBLEtBQ0FDLEVB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RUFBQUMsTUFBQUYsRUFDQXJGLFNBQUF3RixLQUFBbEQsWUFBQWdELEdBQ0FBLEVBQUFHLFNBQ0F6RixTQUFBMEYsWUFBQSxRQUNBMUYsU0FBQXdGLEtBQUFHLFlBQUFMLE1DVkFYLE9BQUFpQixPQUFBLFdBQ0E1RixTQUFBQyxjQUFBLDJCQUNBQyxVQUFBYSxJQUFBLFdDRkEsSUFBQThFLFFBQUE3RixTQUFBb0QsaUJBQUEsNEJBQ0EwQyxZQUFBOUYsU0FBQUMsY0FBQSx5QkFBQW1ELGlCQUFBLFlBRUF5QyxRQUFBeEMsTUFBQUMsS0FBQXVDLFVBQ0FqRixRQUFBLFNBQUFtRixHQUNBQSxFQUFBL0MsaUJBQUEsUUFBQSxXQUNBOEMsWUFBQWxGLFFBQUEsU0FBQUMsR0FDQUEsRUFBQVgsVUFBQWlFLE9BQUEsWUFFQTBCLFFBQUFqRixRQUFBLFNBQUFtRixHQUNBQSxFQUFBN0YsVUFBQWlFLE9BQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXJuYW1lID0gJ3N0YXNva3Vsb3YnO1xyXG5sZXQgbGlua1RvTXlHaXQgPSBgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy8ke3VzZXJuYW1lfWA7XHJcbmxldCBudW1SZXBvcyA9ICcnO1xyXG5sZXQgcmVwb3NQZXJQYWdlID0gMTA7XHJcbmxldCBwYWdlRm9yTG9hZCA9IDE7XHJcblxyXG5nZXRSZXBvcyhwYWdlRm9yTG9hZCk7XHJcbmdvUGFnaW5hdGlvbigpO1xyXG5cclxuZnVuY3Rpb24gZ2V0UmVwb3MocGFnZUZvckxvYWQpIHtcclxuXHJcbiAgICBsZXQgcHJlbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRlcl9fd3JhcF9naXQnKTtcclxuICAgIHByZWxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuXHJcbiAgICBsZXQgbGlua1RvTXlSZXBvcyA9IGAke2xpbmtUb015R2l0fS9yZXBvcz9wZXJfcGFnZT0ke3JlcG9zUGVyUGFnZX0mcGFnZT0ke3BhZ2VGb3JMb2FkfWA7XHJcbiAgICBmZXRjaChsaW5rVG9NeVJlcG9zKSBcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydCgn0JfQsNC/0YDQvtGBINC90LAgZ2l0aHViLmNvbSDQvdC1INGD0LTQsNC70YHRjy4g0J7RiNC40LHQutCwOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oYXJyID0+IHtcclxuICAgICAgICBhcnIuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgZ2l0SXRlbUNyZWF0b3IoZWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oICgpID0+IHtcclxuICAgICAgICBwcmVsb2FkZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZldGNoKGxpbmtUb015R2l0KVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCfQl9Cw0L/RgNC+0YEg0L3QsCBnaXRodWIuY29tINC90LUg0YPQtNCw0LvRgdGPLiDQntGI0LjQsdC60LA6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbihqc29uID0+IHtcclxuICAgICAgICBudW1SZXBvcyA9IGpzb24ucHVibGljX3JlcG9zO1xyXG4gICAgICAgIHJldHVybiBudW1SZXBvczsgICAgICAgICAgIFxyXG4gICAgfSlcclxuICAgIC50aGVuKG51bVJlcG9zID0+IHtcclxuICAgICAgICBsZXQgbnVtUGFnZXMgPSBNYXRoLmNlaWwobnVtUmVwb3MvcmVwb3NQZXJQYWdlKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDw9IG51bVBhZ2VzOyBpKyspIHtcclxuICAgICAgICAgICAgY3JlYXRlUGFnaW5hdGlvbihpKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG5mdW5jdGlvbiBnaXRJdGVtQ3JlYXRvcihlbGVtZW50KSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2l0X19saXN0Jyk7XHJcblxyXG4gICAgY29uc3QgaXRlbSA9IGNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2dpdF9fbWFpbl9faXRlbScpO1xyXG5cclxuICAgIGNvbnN0IGxpbmsgPSBjcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ2dpdF9faXRlbS1pbm5lcldyYXAnKTtcclxuICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnbGluaycpO1xyXG4gICAgbGluay5ocmVmID0gZWxlbWVudC5odG1sX3VybDtcclxuICAgIGxpbmsudGFyZ2V0ID0gJ2JsYW5rJztcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IGNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ2dpdF9faXRlbS10aXRsZScpO1xyXG4gICAgdGl0bGUuaW5uZXJIVE1MID0gZWxlbWVudC5uYW1lO1xyXG5cclxuICAgIGNvbnN0IHN0cmluZyA9IGNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHN0cmluZy5jbGFzc0xpc3QuYWRkKCdnaXRfX2l0ZW0tdGV4dCcpO1xyXG5cclxuICAgIGNvbnN0IG1hcmtlciA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIG1hcmtlci5jbGFzc0xpc3QuYWRkKCdtYXJrZXInKTtcclxuICAgIHN3aXRjaChlbGVtZW50Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgY2FzZSAnSFRNTCc6XHJcbiAgICAgICAgICAgIG1hcmtlci5jbGFzc0xpc3QuYWRkKCdtYXJrZXJfSFRNTCcpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdDU1MnOlxyXG4gICAgICAgICAgICBtYXJrZXIuY2xhc3NMaXN0LmFkZCgnbWFya2VyX0NTUycpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdKUyc6XHJcbiAgICAgICAgICAgIG1hcmtlci5jbGFzc0xpc3QuYWRkKCdtYXJrZXJfSlMnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHByb2dMYW5nID0gY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgcHJvZ0xhbmcuY2xhc3NMaXN0LmFkZCgndGV4dC1lbGVtZW50Jyk7XHJcbiAgICBwcm9nTGFuZy5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVsZW1lbnRfcHJvZ0xhbmcnKTtcclxuICAgIHByb2dMYW5nLmlubmVySFRNTCA9IGVsZW1lbnQubGFuZ3VhZ2U7XHJcblxyXG4gICAgY29uc3Qgc3RhcldyYXAgPSBjcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBzdGFyV3JhcC5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVsZW1lbnQnKTtcclxuXHJcbiAgICBjb25zdCBzdGFyID0gY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgc3Rhci5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVsZW1lbnRfc3RhcicpO1xyXG5cclxuICAgIGNvbnN0IGZvcmtXcmFwID0gY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgZm9ya1dyYXAuY2xhc3NMaXN0LmFkZCgndGV4dC1lbGVtZW50Jyk7XHJcblxyXG4gICAgY29uc3QgZm9yayA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIGZvcmsuY2xhc3NMaXN0LmFkZCgndGV4dC1lbGVtZW50X2ZvcmsnKTtcclxuXHJcbiAgICBjb25zdCBkYXRlVXBkYXRlID0gY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgZGF0ZVVwZGF0ZS5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVsZW1lbnQnKTtcclxuICAgIGRhdGVVcGRhdGUuY2xhc3NMaXN0LmFkZCgndGV4dC1lbGVtZW50X3VwZGF0ZScpO1xyXG4gICAgZGF0ZVVwZGF0ZS5pbm5lckhUTUwgPSAn0J7QsdC90L7QstC70LXQvdC+ICcgKyBuZXcgRGF0ZShlbGVtZW50LnVwZGF0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygncnUnKSArICfQsy4nO1xyXG5cclxuICAgIHN0YXJXcmFwLmFwcGVuZENoaWxkKHN0YXIpO1xyXG4gICAgZm9ya1dyYXAuYXBwZW5kQ2hpbGQoZm9yayk7XHJcblxyXG4gICAgc3RyaW5nLmFwcGVuZENoaWxkKG1hcmtlcik7XHJcbiAgICBzdHJpbmcuYXBwZW5kQ2hpbGQocHJvZ0xhbmcpO1xyXG4gICAgc3RyaW5nLmFwcGVuZENoaWxkKHN0YXJXcmFwKTtcclxuICAgIHN0cmluZy5hcHBlbmRDaGlsZChmb3JrV3JhcCk7XHJcbiAgICBzdHJpbmcuYXBwZW5kQ2hpbGQoZGF0ZVVwZGF0ZSk7XHJcblxyXG4gICAgbGluay5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBsaW5rLmFwcGVuZENoaWxkKHN0cmluZyk7XHJcblxyXG4gICAgaXRlbS5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHJcbiAgICBpZihlbGVtZW50LnN0YXJnYXplcnNfY291bnQpIHtcclxuICAgICAgICBzdGFyV3JhcC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZWxlbWVudC5zdGFyZ2F6ZXJzX2NvdW50KSApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzdGFyV3JhcC5yZW1vdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYoZWxlbWVudC5mb3Jrc19jb3VudCkge1xyXG4gICAgICAgIGZvcmsuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGVsZW1lbnQuZm9ya3NfY291bnQpICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcmsucmVtb3ZlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRpb24ocGFnZUNvdW50KSB7XHJcbiAgICBsZXQgcGFnaW5hdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRvcicpO1xyXG4gICAgbGV0IHBhZ2luYXRpb25JdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRvcl9faXRlbScpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHBhZ2luYXRpb25JdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgaWYocGFnZUNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgcGFnaW5hdGlvbkl0ZW0uY2xhc3NMaXN0LmFkZCgncGFnaW5hdG9yX19pdGVtX2FjdGl2ZScpO1xyXG4gICAgfTtcclxuICAgIHBhZ2luYXRpb25JdGVtLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwYWdlQ291bnQpICk7XHJcbiAgICBwYWdpbmF0b3IuYXBwZW5kQ2hpbGQoIHBhZ2luYXRpb25JdGVtICk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnb1BhZ2luYXRpb24oKSB7XHJcbiAgICBsZXQgcGFnaW5hdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2luYXRvcicpO1xyXG4gICAgcGFnaW5hdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBpZihlLnRhcmdldC5jbGFzc05hbWUgPT09ICdwYWdpbmF0b3JfX2l0ZW0nKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgYWxsUmVwb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2l0X19tYWluX19pdGVtJyk7XHJcbiAgICAgICAgICAgIGFsbFJlcG9zID0gQXJyYXkuZnJvbShhbGxSZXBvcyk7XHJcbiAgICAgICAgICAgIGFsbFJlcG9zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwYWdlID0gZS50YXJnZXQuaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICBnZXRSZXBvcyhwYWdlKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwYWdpbmF0aW9uSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdG9yX19pdGVtJyk7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25JdGVtcyA9IEFycmF5LmZyb20ocGFnaW5hdGlvbkl0ZW1zKTtcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkl0ZW1zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRvcl9faXRlbV9hY3RpdmUnKTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRvcl9faXRlbV9hY3RpdmUnKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZykge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIHJldHVybiBlbGVtZW50O1xyXG59OyIsImxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XHJcbmxldCBidXJnZXJJdGVtMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXJfX2l0ZW0tMScpO1xyXG5sZXQgYnVyZ2VySXRlbTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyX19pdGVtLTInKTtcclxubGV0IG1vYmlsZU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19tb2JpbGVNZW51Jyk7XHJcbmxldCBsYW5ndWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX21haW5NZW51X19sYW5ndWFnZScpO1xyXG5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBidXJnZXJJdGVtMS5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXJfX2l0ZW0tMV9hY3RpdmUnKTtcclxuICAgIGJ1cmdlckl0ZW0yLmNsYXNzTGlzdC50b2dnbGUoJ2J1cmdlcl9faXRlbS0yX2FjdGl2ZScpO1xyXG4gICAgbW9iaWxlTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxufSk7XHJcblxyXG5sZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5oZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgaWYoIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsJykgKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldENsYXNzID0gZS50YXJnZXQuZGF0YXNldC50YXJnZXQ7XHJcbiAgICAgICAgbGV0IGFpbUJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyB0YXJnZXRDbGFzcyk7XHJcbiAgICAgICAgbGV0IGZpbmlzaCA9IGFpbUJsb2NrLm9mZnNldFRvcDtcclxuICAgICAgICBsZXQgc3RhcnQgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgbGV0IG51bVN0ZXAgPSA1MDtcclxuICAgICAgICBsZXQgbGVuZ2h0U3RlcCA9IChmaW5pc2gtc3RhcnQpL251bVN0ZXA7XHJcbiAgICAgICAgbGV0IHByb2dyZXNzID0gc3RhcnQ7XHJcbiAgICAgICAgbGV0IGNvdW50U3RlcCA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2Nyb2xsKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbCgpIHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MgKz0gbGVuZ2h0U3RlcDtcclxuICAgICAgICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIGNvdW50U3RlcCsrO1xyXG4gICAgICAgICAgICAgICAgaWYoY291bnRTdGVwIDwgbnVtU3RlcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG59KTsiLCIoZnVuY3Rpb24gY29weVRlbE51bWJlcigpIHtcclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZWxOdW0nKSApIHtcclxuICAgICAgICAgICAgY29uc3QgdGVsTnVtYmVyID0gZXZlbnQudGFyZ2V0LmlubmVyVGV4dDtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHRlbE51bWJlcjsgXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59KSgpOyIsIndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICBsZXQgcHJlbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWxvYWRlcl9fd3JhcF9nbG9iYWwnKTtcclxuICAgIHByZWxvYWRlci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICB9OyIsImxldCB2aWV3QWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlY2VudFdvcmtzX190aXRsZS1zaWRlJyk7XHJcbmxldCBoaWRkZW5Xb3JrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNlbnRXb3Jrc19fZXhhbXBsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWRkZW4nKTtcclxuXHJcbnZpZXdBbGwgPSBBcnJheS5mcm9tKHZpZXdBbGwpO1xyXG52aWV3QWxsLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBoaWRkZW5Xb3Jrcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZpZXdBbGwuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7Il19
